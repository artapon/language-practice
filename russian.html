<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ» ĞœĞ¸ÑˆĞºĞ° ÑƒÑ‡Ğ¸Ñ‚ Ğ±ÑƒĞºĞ²Ñ‹ Â· Russian for Kids!</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Comfortaa:wght@400;700&family=Noto+Serif:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --sky:    #e8f4ff;
  --pink:   #ff6eb4;
  --yellow: #ffd94a;
  --green:  #4ecb6e;
  --blue:   #4ab3f4;
  --orange: #ff8c42;
  --purple: #b388ff;
  --red:    #ff5252;
  --teal:   #26c6da;
  --ink:    #2d2d6b;
  --shadow-card: 0 8px 24px rgba(100,100,200,0.13);
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }

body {
  background: var(--sky);
  background-image:
    radial-gradient(circle at 8% 12%, rgba(255,110,180,0.2) 0%, transparent 32%),
    radial-gradient(circle at 92% 8%,  rgba(74,179,244,0.22) 0%, transparent 28%),
    radial-gradient(circle at 80% 88%, rgba(78,203,110,0.15) 0%, transparent 28%),
    radial-gradient(circle at 15% 82%, rgba(255,213,74,0.2)  0%, transparent 28%);
  font-family: 'Nunito', sans-serif;
  color: var(--ink);
  display: flex; flex-direction: column;
  height: 100vh; overflow: hidden;
}

/* â”€â”€ TOP BAR â”€â”€ */
.topbar {
  display: flex; align-items: center;
  justify-content: space-between;
  padding: 0.55rem 1rem;
  background: linear-gradient(135deg, #4ab3f4 0%, #b388ff 55%, #ff6eb4 100%);
  flex-shrink: 0; gap: 0.5rem; flex-wrap: wrap;
  box-shadow: 0 4px 18px rgba(74,179,244,0.35);
  position: relative; z-index: 10;
}
.topbar h1 {
  font-family: 'Comfortaa', cursive;
  font-size: 1.4rem; font-weight: 700;
  color: white; text-shadow: 0 3px 0 rgba(0,0,0,0.12);
  white-space: nowrap;
}
.topbar h1 span { color: #fff9c4; }
.topbar-controls { display: flex; gap: 0.4rem; align-items: center; flex-wrap: wrap; }

.topbar select {
  background: rgba(255,255,255,0.93);
  border: 3px solid rgba(255,255,255,0.6);
  color: var(--ink); font-family: 'Nunito', sans-serif;
  font-size: 0.82rem; font-weight: 700;
  padding: 0.3rem 0.6rem; border-radius: 30px;
  cursor: pointer; box-shadow: 0 3px 0 rgba(0,0,0,0.1);
}
.btn {
  font-family: 'Nunito', sans-serif;
  font-size: 0.82rem; font-weight: 800;
  padding: 0.35rem 0.8rem; border-radius: 30px;
  border: 3px solid rgba(255,255,255,0.5);
  background: rgba(255,255,255,0.22);
  color: white; cursor: pointer; white-space: nowrap;
  transition: all 0.15s; box-shadow: 0 3px 0 rgba(0,0,0,0.1);
}
.btn:hover { background: rgba(255,255,255,0.4); transform: translateY(-1px); }
.btn:active { transform: translateY(2px); box-shadow: none; }
.btn.red { background: var(--red); border-color: #ff8a80; }

.brush-wrap {
  display: flex; align-items: center; gap: 0.3rem;
  font-size: 0.78rem; color: white; font-weight: 700;
  background: rgba(255,255,255,0.18); border-radius: 30px;
  padding: 0.2rem 0.6rem; border: 2px solid rgba(255,255,255,0.35);
}
input[type=range] { width: 60px; accent-color: white; }
.progress-txt {
  font-size: 0.78rem; color: white; font-weight: 800;
  background: rgba(255,255,255,0.22);
  padding: 0.2rem 0.7rem; border-radius: 20px; white-space: nowrap;
}

/* â”€â”€ LAYOUT â”€â”€ */
.app { display: flex; flex: 1; overflow: hidden; }

/* â”€â”€ SIDEBAR â”€â”€ */
.sidebar {
  width: 210px; flex-shrink: 0;
  background: white; display: flex; flex-direction: column;
  overflow: hidden;
  border-right: 4px solid #d4eeff;
  box-shadow: 4px 0 16px rgba(74,179,244,0.09);
}
.sidebar-header {
  background: linear-gradient(135deg, #4ab3f4, #b388ff);
  padding: 0.6rem; color: white;
  font-family: 'Comfortaa', cursive;
  font-size: 0.85rem; text-align: center;
}
.sidebar-search {
  padding: 0.5rem; background: #f0f8ff;
  border-bottom: 3px solid #d4eeff;
}
.sidebar-search input {
  width: 100%; padding: 0.4rem 0.7rem;
  border: 3px solid #90caf9; border-radius: 20px;
  font-family: 'Nunito', sans-serif;
  font-size: 0.82rem; font-weight: 700;
  background: white; color: var(--ink); outline: none;
}
.sidebar-search input:focus { border-color: var(--blue); }
.char-grid {
  flex: 1; overflow-y: auto; padding: 0.5rem;
  display: flex; flex-wrap: wrap; gap: 4px; align-content: flex-start;
  background: #fafeff;
}
.char-grid::-webkit-scrollbar { width: 6px; }
.char-grid::-webkit-scrollbar-thumb { background: #90caf9; border-radius: 10px; }
.cpill {
  font-family: 'Comfortaa', cursive;
  font-size: 1.05rem; font-weight: 700;
  min-width: 38px; height: 38px;
  padding: 0 4px;
  display: flex; align-items: center; justify-content: center;
  border: 3px solid #bbdefb; border-radius: 12px;
  cursor: pointer; background: white;
  transition: all 0.15s; position: relative;
  box-shadow: 0 3px 0 rgba(74,179,244,0.15);
  color: var(--ink);
}
.cpill:hover {
  border-color: var(--blue);
  transform: translateY(-2px) scale(1.06);
  box-shadow: 0 5px 0 rgba(74,179,244,0.25);
  background: #e3f2fd;
}
.cpill.active {
  background: linear-gradient(135deg, var(--blue), var(--purple));
  color: white; border-color: transparent;
  box-shadow: 0 4px 0 rgba(74,179,244,0.35);
  transform: translateY(-1px);
}
.cpill.done::after {
  content: 'â­'; position: absolute;
  bottom: -5px; right: -5px;
  font-size: 0.55rem; line-height: 1;
}

/* â”€â”€ CENTER â”€â”€ */
.center {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 0.9rem; padding: 0.8rem 0.8rem 1.8rem;
  overflow: auto;
}
.practice-row {
  display: flex; gap: 1.5rem;
  align-items: flex-start; flex-wrap: wrap; justify-content: center;
}

/* â”€â”€ REFERENCE BOX â”€â”€ */
.ref-box { display: flex; flex-direction: column; align-items: center; gap: 0.6rem; }
.box-label {
  font-size: 0.72rem; font-weight: 800;
  letter-spacing: 0.12em; text-transform: uppercase;
  color: white; padding: 0.22rem 0.9rem;
  border-radius: 20px; box-shadow: 0 3px 0 rgba(0,0,0,0.1);
}
.box-label.blue  { background: linear-gradient(135deg, var(--blue), var(--purple)); }
.box-label.teal  { background: linear-gradient(135deg, var(--teal), var(--blue)); }

.ref-char {
  min-width: 170px; height: 170px; max-width: 420px;
  border: 4px solid transparent;
  background: linear-gradient(white, white) padding-box,
              linear-gradient(135deg, var(--blue), var(--purple), var(--pink), var(--yellow)) border-box;
  border-radius: 28px;
  box-shadow: var(--shadow-card), 0 6px 0 rgba(74,179,244,0.2);
  display: flex; align-items: center; justify-content: center;
  font-family: 'Comfortaa', cursive;
  font-size: 115px; line-height: 1;
  position: relative; overflow: hidden;
  padding: 4px 12px;
  transition: transform 0.25s ease;
  color: var(--ink);
}
.ref-char:hover { transform: scale(1.04) rotate(-1deg); }
.ref-char::before { content: ''; position: absolute; width: 100%; height: 1px; top: 50%; background: rgba(74,179,244,0.1); }
.ref-char::after  { content: ''; position: absolute; height: 100%; width: 1px; left: 50%; background: rgba(74,179,244,0.1); }

.both-cases {
  display: flex; gap: 0.1em; align-items: baseline; line-height: 1;
}
.case-upper { font-size: 105px; color: var(--ink); }
.case-lower { font-size: 68px;  color: var(--blue); }

.ref-info { text-align: center; }
.ref-translit {
  font-size: 1.1rem; font-weight: 800; color: var(--purple);
  letter-spacing: 0.05em;
}
.ref-meaning {
  font-size: 0.82rem; font-weight: 600; color: #6a6a9a;
  margin-top: 0.2rem; max-width: 210px;
  background: white; border-radius: 12px;
  padding: 0.22rem 0.7rem; border: 2px solid #e3f2fd;
}
.letter-badges { display: flex; gap: 0.4rem; flex-wrap: wrap; justify-content: center; }
.badge {
  font-size: 0.68rem; font-weight: 800;
  padding: 0.15rem 0.5rem; border-radius: 12px; border: 2px solid transparent;
}
.badge.vowel     { background:#fff3e0; color:#e65100; border-color:#ffcc80; }
.badge.consonant { background:#e3f2fd; color:#0277bd; border-color:#90caf9; }
.badge.special   { background:#fce4ec; color:#c62828; border-color:#ef9a9a; }
.badge.number    { background:#e8f5e9; color:#2e7d32; border-color:#a5d6a7; }
.badge.word      { background:#f3e5f5; color:#6a1b9a; border-color:#ce93d8; }

.ref-nav { display: flex; gap: 0.5rem; }
.ref-nav button {
  font-family: 'Nunito', sans-serif;
  font-size: 0.88rem; font-weight: 800;
  padding: 0.4rem 0.9rem; border-radius: 20px;
  border: 3px solid transparent; cursor: pointer;
  transition: all 0.15s; box-shadow: 0 4px 0 rgba(0,0,0,0.1); color: white;
}
#prevBtn  { background: var(--purple); border-color: #ce93d8; }
#randBtn  { background: var(--yellow); border-color: #ffe082; color: var(--ink); }
#nextBtn  { background: var(--teal);   border-color: #80deea; }
.ref-nav button:hover  { transform: translateY(-2px); filter: brightness(1.08); }
.ref-nav button:active { transform: translateY(2px); box-shadow: none; }

/* â”€â”€ CANVAS â”€â”€ */
.canvas-box { display: flex; flex-direction: column; align-items: center; gap: 0.7rem; }
.canvas-wrap {
  position: relative;
  border: 4px solid transparent;
  background: linear-gradient(white, white) padding-box,
              linear-gradient(135deg, var(--teal), var(--blue), var(--purple)) border-box;
  border-radius: 24px;
  box-shadow: var(--shadow-card), 0 6px 0 rgba(38,198,218,0.2);
  overflow: hidden; cursor: crosshair; touch-action: none;
}
.grid-overlay { position: absolute; inset: 0; pointer-events: none; z-index: 1; }
.ghost {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Comfortaa', cursive;
  pointer-events: none; z-index: 0;
  user-select: none; color: rgba(74,179,244,0.1);
  line-height: 1; overflow: hidden;
}
canvas { position: absolute; inset: 0; z-index: 2; display: block; }

.canvas-btns { display: flex; gap: 0.5rem; flex-wrap: wrap; justify-content: center; }
.canvas-btns button {
  font-family: 'Nunito', sans-serif;
  font-size: 0.82rem; font-weight: 800;
  padding: 0.4rem 0.9rem; border-radius: 20px;
  border: 3px solid transparent; cursor: pointer;
  transition: all 0.15s; box-shadow: 0 4px 0 rgba(0,0,0,0.1); color: white;
}
#undoBtn2  { background: var(--purple); border-color: #ce93d8; }
#clearBtn2 { background: var(--orange); border-color: #ffcc80; }
#nextCharBtn {
  background: linear-gradient(135deg, var(--teal), var(--blue)) !important;
  border-color: transparent !important; color: white !important;
}
.canvas-btns button:hover  { transform: translateY(-2px); filter: brightness(1.08); }
.canvas-btns button:active { transform: translateY(2px); box-shadow: none; }

/* â”€â”€ YOUTUBE â”€â”€ */
.yt-panel {
  background: white; border: 4px solid #d4eeff;
  border-radius: 20px; overflow: hidden;
  width: 100%; max-width: 460px;
  box-shadow: 0 6px 0 rgba(74,179,244,0.15), var(--shadow-card);
}
.yt-header {
  display: flex; align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.8rem;
  background: linear-gradient(135deg, #4ab3f4, #b388ff);
  color: white; gap: 0.4rem; flex-wrap: wrap;
}
.yt-header-left { display: flex; align-items: center; gap: 0.4rem; font-size: 0.78rem; font-weight: 800; }
.yt-char-label {
  font-family: 'Comfortaa', cursive; font-size: 1.1rem;
  background: rgba(255,255,255,0.22); padding: 0 0.5rem; border-radius: 8px;
}
.yt-links { display: flex; gap: 0.3rem; flex-wrap: wrap; }
.yt-link {
  font-family: 'Nunito', sans-serif; font-size: 0.68rem; font-weight: 800;
  padding: 0.2rem 0.5rem; border-radius: 14px;
  border: 2px solid rgba(255,255,255,0.35);
  background: rgba(255,255,255,0.16);
  color: white; cursor: pointer; text-decoration: none; white-space: nowrap;
  transition: all 0.15s;
}
.yt-link:hover { background: rgba(255,255,255,0.32); }
.yt-link.active-link { background: white; color: var(--blue); border-color: white; }
.yt-embed-wrap { position: relative; width: 100%; padding-bottom: 52%; background: #f0f8ff; }
.yt-embed-wrap iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: none; }
.yt-placeholder {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  background: linear-gradient(135deg, #f0f8ff, #f8f0ff);
  color: var(--blue); font-size: 0.78rem; font-weight: 700;
  gap: 0.4rem; cursor: pointer;
}
.yt-placeholder-char {
  font-family: 'Comfortaa', cursive; font-size: 3.5rem;
  color: rgba(74,179,244,0.1);
  position: absolute; top: 50%; transform: translateY(-60%);
  pointer-events: none; user-select: none;
}
.play-btn {
  width: 50px; height: 50px;
  background: linear-gradient(135deg, var(--blue), var(--purple));
  border-radius: 50%; display: flex; align-items: center; justify-content: center;
  font-size: 1.3rem; color: white;
  box-shadow: 0 4px 0 rgba(74,179,244,0.3); z-index: 1;
  transition: all 0.15s;
}
.yt-placeholder:hover .play-btn { transform: scale(1.12); }
.yt-placeholder span { z-index: 1; color: var(--purple); font-weight: 700; }

/* â”€â”€ RIGHT PANEL â”€â”€ */
.right-panel {
  width: 195px; flex-shrink: 0; background: white;
  display: flex; flex-direction: column;
  padding: 0.8rem 0.7rem; gap: 0.65rem; overflow-y: auto;
  border-left: 4px solid #d4eeff;
  box-shadow: -4px 0 16px rgba(74,179,244,0.08);
}
.right-panel::-webkit-scrollbar { width: 5px; }
.right-panel::-webkit-scrollbar-thumb { background: #90caf9; border-radius: 10px; }

.rp-title {
  font-size: 0.68rem; font-weight: 800; letter-spacing: 0.08em;
  text-transform: uppercase; color: white;
  background: linear-gradient(135deg, var(--blue), var(--purple));
  border-radius: 12px; padding: 0.25rem 0.6rem; text-align: center;
}
.rp-char-big {
  font-family: 'Comfortaa', cursive; text-align: center; line-height: 1;
  background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
  border-radius: 16px; padding: 0.4rem; border: 3px solid #bbdefb;
}
.rp-row {
  display: flex; justify-content: space-between; align-items: center;
  background: #f0f8ff; border-radius: 10px; padding: 0.22rem 0.5rem;
}
.rp-key  { font-size: 0.68rem; font-weight: 700; color: #7090b0; }
.rp-val  { font-size: 0.8rem; font-weight: 800; color: var(--ink); }
.rp-val.blue   { color: var(--blue); }
.rp-val.purple { color: var(--purple); }

.mastery-bar-wrap { background: #f0f8ff; border-radius: 12px; padding: 0.4rem 0.5rem; }
.mastery-label { display: flex; justify-content: space-between; font-size: 0.68rem; font-weight: 700; color: #7090b0; margin-bottom: 0.3rem; }
.mastery-bar { height: 8px; background: #bbdefb; border-radius: 10px; overflow: hidden; }
.mastery-fill { height: 100%; background: linear-gradient(90deg, var(--blue), var(--purple)); border-radius: 10px; transition: width 0.4s; }

.mark-btns { display: flex; flex-direction: column; gap: 0.4rem; }
.mark-btns button {
  font-family: 'Nunito', sans-serif; font-size: 0.78rem; font-weight: 800;
  padding: 0.4rem 0.5rem; border-radius: 14px;
  border: 3px solid transparent; cursor: pointer;
  transition: all 0.15s; box-shadow: 0 3px 0 rgba(0,0,0,0.08);
  background: #f0f8ff; color: var(--ink);
}
.mark-btns button:hover  { transform: translateY(-1px); }
.mark-btns button:active { transform: translateY(2px); box-shadow: none; }
.mbad  { background: #fff0f0 !important; border-color: #ffcdd2 !important; color: var(--red) !important; }
.mbad:hover  { background: var(--red)   !important; color: white !important; }
.mgood { background: #f0fff4 !important; border-color: #c8e6c9 !important; color: var(--green) !important; }
.mgood:hover { background: var(--green) !important; color: white !important; }

.session-box {
  background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
  border-radius: 14px; padding: 0.5rem 0.6rem;
  border: 3px solid #bbdefb; margin-top: auto;
}

/* â”€â”€ ANIMATIONS â”€â”€ */
@keyframes pop-in {
  0%   { transform: scale(0.75) rotate(-6deg); opacity: 0; }
  65%  { transform: scale(1.07) rotate(1deg);  opacity: 1; }
  100% { transform: scale(1) rotate(0deg); }
}
.ref-char { animation: pop-in 0.3s ease both; }

@keyframes star-pop {
  0%   { transform: scale(0); }
  70%  { transform: scale(1.4); }
  100% { transform: scale(1); }
}
.cpill.done::after { animation: star-pop 0.3s ease both; }

/* Responsive */
@media (max-width: 700px) {
  .sidebar { width: 130px; }
  .right-panel { display: none; }
  .ref-char { min-width: 130px; height: 130px; font-size: 82px; }
  .cpill { min-width: 32px; height: 32px; font-size: 0.85rem; }
}
@media (max-width: 500px) { .sidebar { display: none; } }
</style>
</head>
<body>

<div class="topbar">
  <h1>ğŸ» ĞœĞ¸ÑˆĞºĞ° <span>ÑƒÑ‡Ğ¸Ñ‚ Ğ±ÑƒĞºĞ²Ñ‹</span></h1>
  <div class="topbar-controls">
    <select id="levelSelect">
      <option value="alphabet"      selected>â­ Ğ’ĞµÑÑŒ Ğ°Ğ»Ñ„Ğ°Ğ²Ğ¸Ñ‚ (Ğâ€“Ğ¯)</option>
      <option value="vowels">ğŸ”´ Ğ“Ğ»Ğ°ÑĞ½Ñ‹Ğµ (10)</option>
      <option value="consonants">ğŸ”µ Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ½Ñ‹Ğµ (21)</option>
      <option value="special">âœ¨ Ğ—Ğ½Ğ°ĞºĞ¸ (Ğª Ğ¬)</option>
      <option value="numbers">ğŸ”¢ Ğ¦Ğ¸Ñ„Ñ€Ñ‹ 0â€“9</option>
      <option value="syllables">ğŸ—£ï¸ Ğ¡Ğ»Ğ¾Ğ³Ğ¸ (ĞœĞ Ğ‘Ğ Ğ”Ğâ€¦)</option>
      <option value="words_easy">ğŸ“ ĞŸÑ€Ğ¾ÑÑ‚Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ°</option>
      <option value="words_animals">ğŸ» Ğ–Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ</option>
      <option value="words_family">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Ğ¡ĞµĞ¼ÑŒÑ</option>
      <option value="words_colors">ğŸ¨ Ğ¦Ğ²ĞµÑ‚Ğ°</option>
      <option value="words_food">ğŸ Ğ•Ğ´Ğ°</option>
      <option value="words_body">ğŸ«€ Ğ§Ğ°ÑÑ‚Ğ¸ Ñ‚ĞµĞ»Ğ°</option>
      <option value="words_nature">ğŸŒ¿ ĞŸÑ€Ğ¸Ñ€Ğ¾Ğ´Ğ°</option>
      <option value="words_toys">ğŸ§¸ Ğ˜Ğ³Ñ€ÑƒÑˆĞºĞ¸ Ğ¸ Ğ¸Ğ³Ñ€Ñ‹</option>
    </select>
    <label class="brush-wrap">âœï¸ <input type="range" id="brushSize" min="3" max="30" value="12"> <span id="brushVal">12</span></label>
    <button class="btn" id="ghostBtn">ğŸ‘» ĞŸÑ€Ğ¸Ğ·Ñ€Ğ°Ğº</button>
    <button class="btn" id="gridBtn">âŠ Ğ¡ĞµÑ‚ĞºĞ°</button>
    <button class="btn red" id="clearBtn">ğŸ—‘ ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ</button>
    <button class="btn" id="undoBtn">â†©</button>
    <span class="progress-txt" id="progressTxt"></span>
  </div>
</div>

<div class="app">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="sidebar-header">âœ¨ Ğ‘ÑƒĞºĞ²Ñ‹ Ğ¸ ÑĞ»Ğ¾Ğ²Ğ° âœ¨</div>
    <div class="sidebar-search">
      <input type="text" id="searchInput" placeholder="ğŸ” ĞŸĞ¾Ğ¸ÑĞºâ€¦">
    </div>
    <div class="char-grid" id="charGrid"></div>
  </div>

  <!-- CENTER -->
  <div class="center">
    <div class="practice-row">

      <!-- Reference -->
      <div class="ref-box">
        <span class="box-label blue">ğŸ“– Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸!</span>
        <div class="ref-char" id="refChar">Ğ</div>
        <div class="ref-info">
          <div class="ref-translit" id="refTranslit">[Ğ°]</div>
          <div class="ref-meaning"  id="refMeaning">Ğ°Ñ€Ğ±ÑƒĞ· ğŸ‰</div>
        </div>
        <div class="letter-badges" id="letterBadges"></div>
        <div class="ref-nav">
          <button id="prevBtn">â—€ ĞĞ°Ğ·Ğ°Ğ´</button>
          <button id="randBtn">ğŸ² Ğ¡Ğ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ°Ñ</button>
          <button id="nextBtn">Ğ’Ğ¿ĞµÑ€Ñ‘Ğ´ â–¶</button>
        </div>
      </div>

      <!-- Canvas -->
      <div class="canvas-box">
        <span class="box-label teal">âœï¸ ĞŸĞ¸ÑˆĞ¸ Ğ·Ğ´ĞµÑÑŒ!</span>
        <div class="canvas-wrap" id="canvasWrap">
          <svg class="grid-overlay" id="gridSvg"></svg>
          <div class="ghost" id="ghostEl"></div>
          <canvas id="drawCanvas"></canvas>
        </div>

        <!-- YouTube -->
        <div class="yt-panel">
          <div class="yt-header">
            <div class="yt-header-left">
              <span>â–¶</span>
              <span>Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸ ĞºĞ°Ğº Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ:</span>
              <span class="yt-char-label" id="ytCharLabel">Ğ</span>
            </div>
            <div class="yt-links">
              <a class="yt-link active-link" id="ytLink1" href="#" target="_blank">âœ ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ</a>
              <a class="yt-link"             id="ytLink2" href="#" target="_blank">ğŸ”¤ Ğ—Ğ²ÑƒĞº</a>
              <a class="yt-link"             id="ytLink3" href="#" target="_blank">â†— YouTube</a>
            </div>
          </div>
          <div class="yt-embed-wrap" id="ytEmbedWrap">
            <div class="yt-placeholder" id="ytPlaceholder">
              <div class="yt-placeholder-char" id="ytPlaceholderChar">Ğ</div>
              <div class="play-btn">â–¶</div>
              <span id="ytPlaceholderText">ĞĞ°Ğ¶Ğ¼Ğ¸ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ²Ğ¸Ğ´ĞµĞ¾</span>
            </div>
          </div>
        </div>

        <div class="canvas-btns">
          <button id="undoBtn2">â†© ĞÑ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ</button>
          <button id="clearBtn2">ğŸ—‘ ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ</button>
          <button id="nextCharBtn">Ğ’Ğ¿ĞµÑ€Ñ‘Ğ´ â–¶</button>
        </div>
      </div>
    </div>
  </div>

  <!-- RIGHT PANEL -->
  <div class="right-panel">
    <div class="rp-title">ğŸ” Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ</div>
    <div class="rp-char-big" id="rpChar" style="font-size:3.5rem">Ğ</div>

    <div class="rp-row"><span class="rp-key">Ğ—Ğ²ÑƒĞº</span>    <span class="rp-val blue"   id="rpTranslit">[Ğ°]</span></div>
    <div class="rp-row"><span class="rp-key">Ğ¢Ğ¸Ğ¿</span>     <span class="rp-val"        id="rpType">Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ</span></div>
    <div class="rp-row"><span class="rp-key">ĞĞ¾Ğ¼ĞµÑ€</span>   <span class="rp-val purple" id="rpNum">1</span></div>

    <div class="rp-key" style="font-size:0.68rem;font-weight:700;color:#7090b0;padding:0 0.2rem">ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑĞ»Ğ¾Ğ²Ğ°</div>
    <div style="font-size:0.82rem;font-weight:700;line-height:1.5;background:#f0f8ff;border-radius:10px;padding:0.3rem 0.5rem" id="rpMeaning">Ğ°Ñ€Ğ±ÑƒĞ· ğŸ‰</div>

    <div class="mastery-bar-wrap">
      <div class="mastery-label"><span>â­ ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ</span><span id="masteryPct">0%</span></div>
      <div class="mastery-bar"><div class="mastery-fill" id="masteryFill" style="width:0%"></div></div>
    </div>

    <div class="rp-title">ğŸ… ĞšĞ°Ğº Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾?</div>
    <div class="mark-btns">
      <button class="mbad"  onclick="markChar(1)">ğŸ˜• Ğ•Ñ‰Ñ‘ Ñ€Ğ°Ğ·!</button>
      <button               onclick="markChar(2)">ğŸ™‚ ĞŸĞ¾Ñ‡Ñ‚Ğ¸!</button>
      <button class="mgood" onclick="markChar(3)">â­ Ğ—Ğ½Ğ°Ñ!</button>
    </div>

    <div class="session-box">
      <div class="rp-title" style="margin-bottom:0.4rem">ğŸ¯ Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ</div>
      <div class="rp-row" style="margin-top:0.3rem"><span class="rp-key">ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾</span><span class="rp-val" id="sessionCount">0</span></div>
      <div class="rp-row" style="margin-top:0.3rem"><span class="rp-key">Ğ’Ñ‹ÑƒÑ‡ĞµĞ½Ğ¾</span> <span class="rp-val" id="masteredCount">0</span></div>
    </div>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DATABASE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DB = {
  alphabet: [
    {char:'Ğ',lower:'Ğ°',translit:'[Ğ°]',  meaning:'ĞÑ€Ğ±ÑƒĞ· ğŸ‰',    type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:1,  tags:['vowel']},
    {char:'Ğ‘',lower:'Ğ±',translit:'[Ğ±]',  meaning:'Ğ‘Ğ°Ğ½Ğ°Ğ½ ğŸŒ',    type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:2,  tags:['consonant']},
    {char:'Ğ’',lower:'Ğ²',translit:'[Ğ²]',  meaning:'Ğ’Ğ¾Ğ»Ğº ğŸº',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:3,  tags:['consonant']},
    {char:'Ğ“',lower:'Ğ³',translit:'[Ğ³]',  meaning:'Ğ“ÑƒÑÑŒ ğŸª¿',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:4,  tags:['consonant']},
    {char:'Ğ”',lower:'Ğ´',translit:'[Ğ´]',  meaning:'Ğ”Ğ¾Ğ¼ ğŸ ',      type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:5,  tags:['consonant']},
    {char:'Ğ•',lower:'Ğµ',translit:'[Ğ¹Ñ]', meaning:'Ğ•Ğ»ÑŒ ğŸŒ²',      type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:6,  tags:['vowel']},
    {char:'Ğ',lower:'Ñ‘',translit:'[Ğ¹Ğ¾]', meaning:'ĞĞ¶Ğ¸Ğº ğŸ¦”',     type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:7,  tags:['vowel']},
    {char:'Ğ–',lower:'Ğ¶',translit:'[Ğ¶]',  meaning:'Ğ–Ğ¸Ñ€Ğ°Ñ„ ğŸ¦’',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:8,  tags:['consonant']},
    {char:'Ğ—',lower:'Ğ·',translit:'[Ğ·]',  meaning:'Ğ—ĞµĞ±Ñ€Ğ° ğŸ¦“',    type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:9,  tags:['consonant']},
    {char:'Ğ˜',lower:'Ğ¸',translit:'[Ğ¸]',  meaning:'Ğ˜Ğ³Ğ¾Ğ»ĞºĞ° ğŸª¡',   type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:10, tags:['vowel']},
    {char:'Ğ™',lower:'Ğ¹',translit:'[Ğ¹]',  meaning:'Ğ™Ğ¾Ğ³ÑƒÑ€Ñ‚ ğŸ¥›',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:11, tags:['consonant']},
    {char:'Ğš',lower:'Ğº',translit:'[Ğº]',  meaning:'ĞšĞ¾Ñ‚ ğŸ±',      type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:12, tags:['consonant']},
    {char:'Ğ›',lower:'Ğ»',translit:'[Ğ»]',  meaning:'Ğ›Ğ¸ÑĞ° ğŸ¦Š',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:13, tags:['consonant']},
    {char:'Ğœ',lower:'Ğ¼',translit:'[Ğ¼]',  meaning:'ĞœĞ°Ğ¼Ğ° ğŸ‘©',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:14, tags:['consonant']},
    {char:'Ğ',lower:'Ğ½',translit:'[Ğ½]',  meaning:'ĞĞ¾Ñ ğŸ‘ƒ',      type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:15, tags:['consonant']},
    {char:'Ğ',lower:'Ğ¾',translit:'[Ğ¾]',  meaning:'ĞĞ±Ğ»Ğ°ĞºĞ¾ â˜ï¸',   type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:16, tags:['vowel']},
    {char:'ĞŸ',lower:'Ğ¿',translit:'[Ğ¿]',  meaning:'ĞŸĞ°Ğ¿Ğ° ğŸ‘¨',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:17, tags:['consonant']},
    {char:'Ğ ',lower:'Ñ€',translit:'[Ñ€]',  meaning:'Ğ Ñ‹Ğ±Ğ° ğŸŸ',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:18, tags:['consonant']},
    {char:'Ğ¡',lower:'Ñ',translit:'[Ñ]',  meaning:'Ğ¡Ğ»Ğ¾Ğ½ ğŸ˜',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:19, tags:['consonant']},
    {char:'Ğ¢',lower:'Ñ‚',translit:'[Ñ‚]',  meaning:'Ğ¢Ğ¸Ğ³Ñ€ ğŸ¯',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:20, tags:['consonant']},
    {char:'Ğ£',lower:'Ñƒ',translit:'[Ñƒ]',  meaning:'Ğ£Ñ‚ĞºĞ° ğŸ¦†',     type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:21, tags:['vowel']},
    {char:'Ğ¤',lower:'Ñ„',translit:'[Ñ„]',  meaning:'Ğ¤Ğ»Ğ°Ğ¼Ğ¸Ğ½Ğ³Ğ¾ ğŸ¦©', type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:22, tags:['consonant']},
    {char:'Ğ¥',lower:'Ñ…',translit:'[Ñ…]',  meaning:'Ğ¥Ğ»ĞµĞ± ğŸ',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:23, tags:['consonant']},
    {char:'Ğ¦',lower:'Ñ†',translit:'[Ñ†]',  meaning:'Ğ¦Ñ‹Ğ¿Ğ»Ñ‘Ğ½Ğ¾Ğº ğŸ¥', type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:24, tags:['consonant']},
    {char:'Ğ§',lower:'Ñ‡',translit:'[Ñ‡]',  meaning:'Ğ§ĞµÑ€ĞµĞ¿Ğ°Ñ…Ğ° ğŸ¢', type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:25, tags:['consonant']},
    {char:'Ğ¨',lower:'Ñˆ',translit:'[Ñˆ]',  meaning:'Ğ¨Ğ°Ñ€Ğ¸Ğº ğŸˆ',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:26, tags:['consonant']},
    {char:'Ğ©',lower:'Ñ‰',translit:'[Ñ‰]',  meaning:'Ğ©ĞµĞ½Ğ¾Ğº ğŸ¶',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:27, tags:['consonant']},
    {char:'Ğª',lower:'ÑŠ',translit:'[ÑŠ]',  meaning:'Ğ¢Ğ²Ñ‘Ñ€Ğ´Ñ‹Ğ¹ Ğ·Ğ½Ğ°Ğº',type:'Ğ·Ğ½Ğ°Ğº',    num:28, tags:['special']},
    {char:'Ğ«',lower:'Ñ‹',translit:'[Ñ‹]',  meaning:'Ğ Ñ‹Ğ±Ğ° ğŸŸ',     type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:29, tags:['vowel']},
    {char:'Ğ¬',lower:'ÑŒ',translit:'[ÑŒ]',  meaning:'ĞœÑĞ³ĞºĞ¸Ğ¹ Ğ·Ğ½Ğ°Ğº', type:'Ğ·Ğ½Ğ°Ğº',    num:30, tags:['special']},
    {char:'Ğ­',lower:'Ñ',translit:'[Ñ]',  meaning:'Ğ­Ñ…Ğ¾ ğŸ“£',      type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:31, tags:['vowel']},
    {char:'Ğ®',lower:'Ñ',translit:'[Ğ¹Ñƒ]', meaning:'Ğ®Ğ»Ğ° ğŸŒ€',      type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:32, tags:['vowel']},
    {char:'Ğ¯',lower:'Ñ',translit:'[Ğ¹Ğ°]', meaning:'Ğ¯Ğ±Ğ»Ğ¾ĞºĞ¾ ğŸ',   type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',  num:33, tags:['vowel']},
  ],

  vowels: [
    {char:'Ğ',lower:'Ğ°',translit:'[Ğ°]', meaning:'ĞÑ€Ğ±ÑƒĞ· ğŸ‰',  type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:1, tags:['vowel']},
    {char:'Ğ•',lower:'Ğµ',translit:'[Ğ¹Ñ]',meaning:'Ğ•Ğ»ÑŒ ğŸŒ²',    type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:6, tags:['vowel']},
    {char:'Ğ',lower:'Ñ‘',translit:'[Ğ¹Ğ¾]',meaning:'ĞĞ¶Ğ¸Ğº ğŸ¦”',   type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:7, tags:['vowel']},
    {char:'Ğ˜',lower:'Ğ¸',translit:'[Ğ¸]', meaning:'Ğ˜Ğ²Ğ¾Ğ»Ğ³Ğ° ğŸ¦', type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:10,tags:['vowel']},
    {char:'Ğ',lower:'Ğ¾',translit:'[Ğ¾]', meaning:'ĞĞ±Ğ»Ğ°ĞºĞ¾ â˜ï¸', type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:16,tags:['vowel']},
    {char:'Ğ£',lower:'Ñƒ',translit:'[Ñƒ]', meaning:'Ğ£Ñ‚ĞºĞ° ğŸ¦†',   type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:21,tags:['vowel']},
    {char:'Ğ«',lower:'Ñ‹',translit:'[Ñ‹]', meaning:'ĞœÑ‹ÑˆÑŒ ğŸ­',   type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:29,tags:['vowel']},
    {char:'Ğ­',lower:'Ñ',translit:'[Ñ]', meaning:'Ğ­Ñ…Ğ¾ ğŸ“£',    type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:31,tags:['vowel']},
    {char:'Ğ®',lower:'Ñ',translit:'[Ğ¹Ñƒ]',meaning:'Ğ®Ğ»Ğ° ğŸŒ€',    type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:32,tags:['vowel']},
    {char:'Ğ¯',lower:'Ñ',translit:'[Ğ¹Ğ°]',meaning:'Ğ¯Ğ±Ğ»Ğ¾ĞºĞ¾ ğŸ', type:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:33,tags:['vowel']},
  ],

  consonants: [
    {char:'Ğ‘',lower:'Ğ±',translit:'[Ğ±]',meaning:'Ğ‘Ğ°Ğ½Ğ°Ğ½ ğŸŒ',    type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:2, tags:['consonant']},
    {char:'Ğ’',lower:'Ğ²',translit:'[Ğ²]',meaning:'Ğ’Ğ¾Ğ»Ğº ğŸº',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:3, tags:['consonant']},
    {char:'Ğ“',lower:'Ğ³',translit:'[Ğ³]',meaning:'Ğ“ÑƒÑÑŒ ğŸª¿',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:4, tags:['consonant']},
    {char:'Ğ”',lower:'Ğ´',translit:'[Ğ´]',meaning:'Ğ”Ğ¾Ğ¼ ğŸ ',      type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:5, tags:['consonant']},
    {char:'Ğ–',lower:'Ğ¶',translit:'[Ğ¶]',meaning:'Ğ–Ğ¸Ñ€Ğ°Ñ„ ğŸ¦’',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:8, tags:['consonant']},
    {char:'Ğ—',lower:'Ğ·',translit:'[Ğ·]',meaning:'Ğ—ĞµĞ±Ñ€Ğ° ğŸ¦“',    type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:9, tags:['consonant']},
    {char:'Ğ™',lower:'Ğ¹',translit:'[Ğ¹]',meaning:'Ğ™Ğ¾Ğ³ÑƒÑ€Ñ‚ ğŸ¥›',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:11,tags:['consonant']},
    {char:'Ğš',lower:'Ğº',translit:'[Ğº]',meaning:'ĞšĞ¾Ñ‚ ğŸ±',      type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:12,tags:['consonant']},
    {char:'Ğ›',lower:'Ğ»',translit:'[Ğ»]',meaning:'Ğ›Ğ¸ÑĞ° ğŸ¦Š',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:13,tags:['consonant']},
    {char:'Ğœ',lower:'Ğ¼',translit:'[Ğ¼]',meaning:'ĞœĞ°Ğ¼Ğ° ğŸ‘©',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:14,tags:['consonant']},
    {char:'Ğ',lower:'Ğ½',translit:'[Ğ½]',meaning:'ĞĞ¾Ñ ğŸ‘ƒ',      type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:15,tags:['consonant']},
    {char:'ĞŸ',lower:'Ğ¿',translit:'[Ğ¿]',meaning:'ĞŸĞ°Ğ¿Ğ° ğŸ‘¨',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:17,tags:['consonant']},
    {char:'Ğ ',lower:'Ñ€',translit:'[Ñ€]',meaning:'Ğ Ñ‹Ğ±Ğ° ğŸŸ',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:18,tags:['consonant']},
    {char:'Ğ¡',lower:'Ñ',translit:'[Ñ]',meaning:'Ğ¡Ğ»Ğ¾Ğ½ ğŸ˜',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:19,tags:['consonant']},
    {char:'Ğ¢',lower:'Ñ‚',translit:'[Ñ‚]',meaning:'Ğ¢Ğ¸Ğ³Ñ€ ğŸ¯',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:20,tags:['consonant']},
    {char:'Ğ¤',lower:'Ñ„',translit:'[Ñ„]',meaning:'Ğ¤Ğ»Ğ°Ğ¼Ğ¸Ğ½Ğ³Ğ¾ ğŸ¦©', type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:22,tags:['consonant']},
    {char:'Ğ¥',lower:'Ñ…',translit:'[Ñ…]',meaning:'Ğ¥Ğ»ĞµĞ± ğŸ',     type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:23,tags:['consonant']},
    {char:'Ğ¦',lower:'Ñ†',translit:'[Ñ†]',meaning:'Ğ¦Ñ‹Ğ¿Ğ»Ñ‘Ğ½Ğ¾Ğº ğŸ¥', type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:24,tags:['consonant']},
    {char:'Ğ§',lower:'Ñ‡',translit:'[Ñ‡]',meaning:'Ğ§ĞµÑ€ĞµĞ¿Ğ°Ñ…Ğ° ğŸ¢', type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:25,tags:['consonant']},
    {char:'Ğ¨',lower:'Ñˆ',translit:'[Ñˆ]',meaning:'Ğ¨Ğ°Ñ€Ğ¸Ğº ğŸˆ',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:26,tags:['consonant']},
    {char:'Ğ©',lower:'Ñ‰',translit:'[Ñ‰]',meaning:'Ğ©ĞµĞ½Ğ¾Ğº ğŸ¶',   type:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ',num:27,tags:['consonant']},
  ],

  special: [
    {char:'Ğª',lower:'ÑŠ',translit:'[ÑŠ]',meaning:'Ğ¢Ğ²Ñ‘Ñ€Ğ´Ñ‹Ğ¹ Ğ·Ğ½Ğ°Ğº â€” Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑĞµÑ‚ ÑĞ»Ğ¾Ğ³Ğ¸',type:'Ğ·Ğ½Ğ°Ğº',num:28,tags:['special']},
    {char:'Ğ¬',lower:'ÑŒ',translit:'[ÑŒ]',meaning:'ĞœÑĞ³ĞºĞ¸Ğ¹ Ğ·Ğ½Ğ°Ğº â€” ÑĞ¼ÑĞ³Ñ‡Ğ°ĞµÑ‚ ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ñ‹Ğµ',type:'Ğ·Ğ½Ğ°Ğº',num:30,tags:['special']},
  ],

  numbers: [
    {char:'0',lower:'0',translit:'Ğ½Ğ¾Ğ»ÑŒ',  meaning:'Ğ½Ğ¾Ğ»ÑŒ â€” Ğ½ĞµÑ‚ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ ğŸ«™',      type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:0,tags:['number']},
    {char:'1',lower:'1',translit:'Ğ¾Ğ´Ğ¸Ğ½',  meaning:'Ğ¾Ğ´Ğ¸Ğ½ â€” Ğ¾Ğ´Ğ½Ğ¾ ÑĞ±Ğ»Ğ¾ĞºĞ¾ ğŸ',     type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:1,tags:['number']},
    {char:'2',lower:'2',translit:'Ğ´Ğ²Ğ°',   meaning:'Ğ´Ğ²Ğ° â€” Ğ´Ğ²Ğµ Ğ½Ğ¾Ğ³Ğ¸ ğŸ¦µğŸ¦µ',       type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:2,tags:['number']},
    {char:'3',lower:'3',translit:'Ñ‚Ñ€Ğ¸',   meaning:'Ñ‚Ñ€Ğ¸ â€” Ñ‚Ñ€Ğ¸ Ğ¼ĞµĞ´Ğ²ĞµĞ´Ñ ğŸ»ğŸ»ğŸ»', type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:3,tags:['number']},
    {char:'4',lower:'4',translit:'Ñ‡ĞµÑ‚Ñ‹Ñ€Ğµ',meaning:'Ñ‡ĞµÑ‚Ñ‹Ñ€Ğµ â€” Ñ‡ĞµÑ‚Ñ‹Ñ€Ğµ Ğ»Ğ°Ğ¿Ñ‹ ğŸ¾',  type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:4,tags:['number']},
    {char:'5',lower:'5',translit:'Ğ¿ÑÑ‚ÑŒ',  meaning:'Ğ¿ÑÑ‚ÑŒ â€” Ğ¿ÑÑ‚ÑŒ Ğ¿Ğ°Ğ»ÑŒÑ†ĞµĞ² âœ‹',    type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:5,tags:['number']},
    {char:'6',lower:'6',translit:'ÑˆĞµÑÑ‚ÑŒ', meaning:'ÑˆĞµÑÑ‚ÑŒ â€” ĞºÑƒĞ±Ğ¸ĞºĞ¸ Ğ½Ğ° ĞºÑƒĞ±Ğ¸ĞºĞµ ğŸ²',type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:6,tags:['number']},
    {char:'7',lower:'7',translit:'ÑĞµĞ¼ÑŒ',  meaning:'ÑĞµĞ¼ÑŒ â€” Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² Ñ€Ğ°Ğ´ÑƒĞ³Ğ¸ ğŸŒˆ',   type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:7,tags:['number']},
    {char:'8',lower:'8',translit:'Ğ²Ğ¾ÑĞµĞ¼ÑŒ',meaning:'Ğ²Ğ¾ÑĞµĞ¼ÑŒ â€” Ñ‰ÑƒĞ¿Ğ°Ğ»ĞµÑ† ğŸ™',       type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:8,tags:['number']},
    {char:'9',lower:'9',translit:'Ğ´ĞµĞ²ÑÑ‚ÑŒ',meaning:'Ğ´ĞµĞ²ÑÑ‚ÑŒ â€” ÑˆĞ°Ñ€Ğ¸ĞºĞ¾Ğ² ğŸˆğŸˆğŸˆ',  type:'Ñ†Ğ¸Ñ„Ñ€Ğ°',num:9,tags:['number']},
  ],

  syllables: [
    {char:'ĞœĞ',lower:'Ğ¼Ğ°',translit:'ĞœĞ',meaning:'ĞœĞ-Ğ¼Ğ° ğŸ‘©',     type:'ÑĞ»Ğ¾Ğ³',num:1,tags:['word']},
    {char:'ĞŸĞ',lower:'Ğ¿Ğ°',translit:'ĞŸĞ',meaning:'ĞŸĞ-Ğ¿Ğ° ğŸ‘¨',     type:'ÑĞ»Ğ¾Ğ³',num:2,tags:['word']},
    {char:'Ğ‘Ğ',lower:'Ğ±Ğ°',translit:'Ğ‘Ğ',meaning:'Ğ‘Ğ-Ğ±ÑƒÑˆ-ĞºĞ° ğŸ‘µ', type:'ÑĞ»Ğ¾Ğ³',num:3,tags:['word']},
    {char:'Ğ”Ğ',lower:'Ğ´Ğ°',translit:'Ğ”Ğ',meaning:'Ğ”Ğ â€” yes âœ…',   type:'ÑĞ»Ğ¾Ğ³',num:4,tags:['word']},
    {char:'ĞĞ',lower:'Ğ½Ğ°',translit:'ĞĞ',meaning:'ĞĞ â€” here ğŸ‘‹',  type:'ÑĞ»Ğ¾Ğ³',num:5,tags:['word']},
    {char:'ĞšĞ',lower:'ĞºĞ°',translit:'ĞšĞ',meaning:'ĞšĞ-ÑˆĞ° ğŸ¥£',     type:'ÑĞ»Ğ¾Ğ³',num:6,tags:['word']},
    {char:'Ğ’Ğ',lower:'Ğ²Ğ¾',translit:'Ğ’Ğ',meaning:'Ğ’Ğ-Ğ´Ğ° ğŸ’§',     type:'ÑĞ»Ğ¾Ğ³',num:7,tags:['word']},
    {char:'Ğ Ğ«',lower:'Ñ€Ñ‹',translit:'Ğ Ğ«',meaning:'Ğ Ğ«-Ğ±Ğ° ğŸŸ',    type:'ÑĞ»Ğ¾Ğ³',num:8,tags:['word']},
    {char:'Ğ”Ğ',lower:'Ğ´Ğ¾',translit:'Ğ”Ğ',meaning:'Ğ”ĞĞœ ğŸ ',       type:'ÑĞ»Ğ¾Ğ³',num:9,tags:['word']},
    {char:'ĞœĞ˜',lower:'Ğ¼Ğ¸',translit:'ĞœĞ˜',meaning:'ĞœĞ˜-ÑˆĞºĞ° ğŸ»',    type:'ÑĞ»Ğ¾Ğ³',num:10,tags:['word']},
    {char:'Ğ›Ğ˜',lower:'Ğ»Ğ¸',translit:'Ğ›Ğ˜',meaning:'Ğ›Ğ˜-ÑĞ° ğŸ¦Š',    type:'ÑĞ»Ğ¾Ğ³',num:11,tags:['word']},
    {char:'ĞšĞ',lower:'ĞºĞ¾',translit:'ĞšĞ',meaning:'ĞšĞ-ÑˆĞºĞ° ğŸ±',    type:'ÑĞ»Ğ¾Ğ³',num:12,tags:['word']},
    {char:'Ğ¡Ğ',lower:'ÑĞ¾',translit:'Ğ¡Ğ',meaning:'Ğ¡ĞĞš ğŸ§ƒ',       type:'ÑĞ»Ğ¾Ğ³',num:13,tags:['word']},
    {char:'ĞĞ',lower:'Ğ½Ğ¾',translit:'ĞĞ',meaning:'ĞĞĞ¡ ğŸ‘ƒ',       type:'ÑĞ»Ğ¾Ğ³',num:14,tags:['word']},
    {char:'Ğ¢Ğ˜',lower:'Ñ‚Ğ¸',translit:'Ğ¢Ğ˜',meaning:'Ğ¢Ğ˜-Ğ³Ñ€ ğŸ¯',    type:'ÑĞ»Ğ¾Ğ³',num:15,tags:['word']},
  ],

  words_easy: [
    {char:'Ğ”Ğ',   lower:'Ğ´Ğ°',   translit:'Ğ”Ğ',   meaning:'Ğ´Ğ° â€” yes âœ…',        type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:1, tags:['word']},
    {char:'ĞĞ•Ğ¢',  lower:'Ğ½ĞµÑ‚',  translit:'ĞĞ•Ğ¢',  meaning:'Ğ½ĞµÑ‚ â€” no âŒ',        type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:2, tags:['word']},
    {char:'ĞšĞĞ¢',  lower:'ĞºĞ¾Ñ‚',  translit:'ĞšĞĞ¢',  meaning:'ĞºĞ¾Ñ‚ â€” cat ğŸ±',       type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:3, tags:['word']},
    {char:'Ğ”ĞĞœ',  lower:'Ğ´Ğ¾Ğ¼',  translit:'Ğ”ĞĞœ',  meaning:'Ğ´Ğ¾Ğ¼ â€” house ğŸ ',     type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:4, tags:['word']},
    {char:'ĞœĞ¯Ğ§',  lower:'Ğ¼ÑÑ‡',  translit:'ĞœĞ¯Ğ§',  meaning:'Ğ¼ÑÑ‡ â€” ball âš½',      type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:5, tags:['word']},
    {char:'Ğ¡ĞĞš',  lower:'ÑĞ¾Ğº',  translit:'Ğ¡ĞĞš',  meaning:'ÑĞ¾Ğº â€” juice ğŸ§ƒ',     type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:6, tags:['word']},
    {char:'Ğ ĞĞ¢',  lower:'Ñ€Ğ¾Ñ‚',  translit:'Ğ ĞĞ¢',  meaning:'Ñ€Ğ¾Ñ‚ â€” mouth ğŸ‘„',     type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:7, tags:['word']},
    {char:'ĞĞĞ¡',  lower:'Ğ½Ğ¾Ñ',  translit:'ĞĞĞ¡',  meaning:'Ğ½Ğ¾Ñ â€” nose ğŸ‘ƒ',      type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:8, tags:['word']},
    {char:'Ğ›Ğ•Ğ¡',  lower:'Ğ»ĞµÑ',  translit:'Ğ›Ğ•Ğ¡',  meaning:'Ğ»ĞµÑ â€” forest ğŸŒ²',    type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:9, tags:['word']},
    {char:'ĞšĞĞ¨Ğ', lower:'ĞºĞ°ÑˆĞ°', translit:'ĞšĞĞ¨Ğ', meaning:'ĞºĞ°ÑˆĞ° â€” porridge ğŸ¥£', type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:10,tags:['word']},
    {char:'Ğ’ĞĞ”Ğ', lower:'Ğ²Ğ¾Ğ´Ğ°', translit:'Ğ’ĞĞ”Ğ', meaning:'Ğ²Ğ¾Ğ´Ğ° â€” water ğŸ’§',    type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:11,tags:['word']},
    {char:'ĞœĞĞœĞ', lower:'Ğ¼Ğ°Ğ¼Ğ°', translit:'ĞœĞĞœĞ', meaning:'Ğ¼Ğ°Ğ¼Ğ° â€” mom ğŸ‘©',      type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:12,tags:['word']},
    {char:'ĞŸĞĞŸĞ', lower:'Ğ¿Ğ°Ğ¿Ğ°', translit:'ĞŸĞĞŸĞ', meaning:'Ğ¿Ğ°Ğ¿Ğ° â€” dad ğŸ‘¨',      type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:13,tags:['word']},
    {char:'ĞœĞĞ›ĞĞšĞ',lower:'Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾',translit:'ĞœĞĞ›ĞĞšĞ',meaning:'Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾ â€” milk ğŸ¥›',type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:14,tags:['word']},
    {char:'Ğ¥Ğ›Ğ•Ğ‘', lower:'Ñ…Ğ»ĞµĞ±', translit:'Ğ¥Ğ›Ğ•Ğ‘', meaning:'Ñ…Ğ»ĞµĞ± â€” bread ğŸ',   type:'ÑĞ»Ğ¾Ğ²Ğ¾',num:15,tags:['word']},
  ],

  words_animals: [
    {char:'ĞšĞĞ¢',    lower:'ĞºĞ¾Ñ‚',    translit:'ĞšĞĞ¢',    meaning:'ĞºĞ¾Ñ‚ â€” cat ğŸ±',        type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:1, tags:['word']},
    {char:'ĞŸĞĞ¡',    lower:'Ğ¿Ñ‘Ñ',    translit:'ĞŸĞĞ¡',    meaning:'Ğ¿Ñ‘Ñ â€” dog ğŸ¶',        type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:2, tags:['word']},
    {char:'Ğ›Ğ˜Ğ¡Ğ',   lower:'Ğ»Ğ¸ÑĞ°',   translit:'Ğ›Ğ˜Ğ¡Ğ',   meaning:'Ğ»Ğ¸ÑĞ° â€” fox ğŸ¦Š',       type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:3, tags:['word']},
    {char:'Ğ’ĞĞ›Ğš',   lower:'Ğ²Ğ¾Ğ»Ğº',   translit:'Ğ’ĞĞ›Ğš',   meaning:'Ğ²Ğ¾Ğ»Ğº â€” wolf ğŸº',      type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:4, tags:['word']},
    {char:'ĞœĞ•Ğ”Ğ’Ğ•Ğ”Ğ¬',lower:'Ğ¼ĞµĞ´Ğ²ĞµĞ´ÑŒ',translit:'ĞœĞ•Ğ”Ğ’Ğ•Ğ”Ğ¬',meaning:'Ğ¼ĞµĞ´Ğ²ĞµĞ´ÑŒ â€” bear ğŸ»',   type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:5, tags:['word']},
    {char:'Ğ¡Ğ›ĞĞ',   lower:'ÑĞ»Ğ¾Ğ½',   translit:'Ğ¡Ğ›ĞĞ',   meaning:'ÑĞ»Ğ¾Ğ½ â€” elephant ğŸ˜',  type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:6, tags:['word']},
    {char:'Ğ¢Ğ˜Ğ“Ğ ',   lower:'Ñ‚Ğ¸Ğ³Ñ€',   translit:'Ğ¢Ğ˜Ğ“Ğ ',   meaning:'Ñ‚Ğ¸Ğ³Ñ€ â€” tiger ğŸ¯',     type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:7, tags:['word']},
    {char:'Ğ—Ğ•Ğ‘Ğ Ğ',  lower:'Ğ·ĞµĞ±Ñ€Ğ°',  translit:'Ğ—Ğ•Ğ‘Ğ Ğ',  meaning:'Ğ·ĞµĞ±Ñ€Ğ° â€” zebra ğŸ¦“',    type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:8, tags:['word']},
    {char:'Ğ£Ğ¢ĞšĞ',   lower:'ÑƒÑ‚ĞºĞ°',   translit:'Ğ£Ğ¢ĞšĞ',   meaning:'ÑƒÑ‚ĞºĞ° â€” duck ğŸ¦†',      type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:9, tags:['word']},
    {char:'Ğ Ğ«Ğ‘Ğ',   lower:'Ñ€Ñ‹Ğ±Ğ°',   translit:'Ğ Ğ«Ğ‘Ğ',   meaning:'Ñ€Ñ‹Ğ±Ğ° â€” fish ğŸŸ',      type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:10,tags:['word']},
    {char:'ĞšĞ ĞĞ›Ğ˜Ğš', lower:'ĞºÑ€Ğ¾Ğ»Ğ¸Ğº', translit:'ĞšĞ ĞĞ›Ğ˜Ğš', meaning:'ĞºÑ€Ğ¾Ğ»Ğ¸Ğº â€” rabbit ğŸ°',  type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:11,tags:['word']},
    {char:'Ğ–Ğ˜Ğ ĞĞ¤',  lower:'Ğ¶Ğ¸Ñ€Ğ°Ñ„',  translit:'Ğ–Ğ˜Ğ ĞĞ¤',  meaning:'Ğ¶Ğ¸Ñ€Ğ°Ñ„ â€” giraffe ğŸ¦’',  type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:12,tags:['word']},
    {char:'Ğ§Ğ•Ğ Ğ•ĞŸĞĞ¥Ğ',lower:'Ñ‡ĞµÑ€ĞµĞ¿Ğ°Ñ…Ğ°',translit:'Ğ§Ğ•Ğ Ğ•ĞŸĞĞ¥Ğ',meaning:'Ñ‡ĞµÑ€ĞµĞ¿Ğ°Ñ…Ğ° â€” turtle ğŸ¢',type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:13,tags:['word']},
    {char:'ĞĞ–Ğ˜Ğš',   lower:'Ñ‘Ğ¶Ğ¸Ğº',   translit:'ĞĞ–Ğ˜Ğš',   meaning:'Ñ‘Ğ¶Ğ¸Ğº â€” hedgehog ğŸ¦”',  type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:14,tags:['word']},
    {char:'ĞŸĞ•Ğ¢Ğ£Ğ¥',  lower:'Ğ¿ĞµÑ‚ÑƒÑ…',  translit:'ĞŸĞ•Ğ¢Ğ£Ğ¥',  meaning:'Ğ¿ĞµÑ‚ÑƒÑ… â€” rooster ğŸ“',  type:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',num:15,tags:['word']},
  ],

  words_family: [
    {char:'ĞœĞĞœĞ',   lower:'Ğ¼Ğ°Ğ¼Ğ°',  translit:'ĞœĞĞœĞ',   meaning:'Ğ¼Ğ°Ğ¼Ğ° â€” mom ğŸ‘©',          type:'ÑĞµĞ¼ÑŒÑ',num:1,tags:['word']},
    {char:'ĞŸĞĞŸĞ',   lower:'Ğ¿Ğ°Ğ¿Ğ°',  translit:'ĞŸĞĞŸĞ',   meaning:'Ğ¿Ğ°Ğ¿Ğ° â€” dad ğŸ‘¨',          type:'ÑĞµĞ¼ÑŒÑ',num:2,tags:['word']},
    {char:'Ğ‘ĞĞ‘Ğ£Ğ¨ĞšĞ',lower:'Ğ±Ğ°Ğ±ÑƒÑˆĞºĞ°',translit:'Ğ‘ĞĞ‘Ğ£Ğ¨ĞšĞ',meaning:'Ğ±Ğ°Ğ±ÑƒÑˆĞºĞ° â€” grandma ğŸ‘µ', type:'ÑĞµĞ¼ÑŒÑ',num:3,tags:['word']},
    {char:'Ğ”Ğ•Ğ”Ğ£Ğ¨ĞšĞ',lower:'Ğ´ĞµĞ´ÑƒÑˆĞºĞ°',translit:'Ğ”Ğ•Ğ”Ğ£Ğ¨ĞšĞ',meaning:'Ğ´ĞµĞ´ÑƒÑˆĞºĞ° â€” grandpa ğŸ‘´', type:'ÑĞµĞ¼ÑŒÑ',num:4,tags:['word']},
    {char:'Ğ¡Ğ•Ğ¡Ğ¢Ğ Ğ', lower:'ÑĞµÑÑ‚Ñ€Ğ°',translit:'Ğ¡Ğ•Ğ¡Ğ¢Ğ Ğ', meaning:'ÑĞµÑÑ‚Ñ€Ğ° â€” sister ğŸ‘§',     type:'ÑĞµĞ¼ÑŒÑ',num:5,tags:['word']},
    {char:'Ğ‘Ğ ĞĞ¢',   lower:'Ğ±Ñ€Ğ°Ñ‚',  translit:'Ğ‘Ğ ĞĞ¢',   meaning:'Ğ±Ñ€Ğ°Ñ‚ â€” brother ğŸ‘¦',      type:'ÑĞµĞ¼ÑŒÑ',num:6,tags:['word']},
    {char:'Ğ¡Ğ•ĞœĞ¬Ğ¯',  lower:'ÑĞµĞ¼ÑŒÑ', translit:'Ğ¡Ğ•ĞœĞ¬Ğ¯',  meaning:'ÑĞµĞ¼ÑŒÑ â€” family ğŸ‘¨â€ğŸ‘©â€ğŸ‘§',     type:'ÑĞµĞ¼ÑŒÑ',num:7,tags:['word']},
    {char:'Ğ¢ĞĞ¢Ğ¯',   lower:'Ñ‚Ñ‘Ñ‚Ñ',  translit:'Ğ¢ĞĞ¢Ğ¯',   meaning:'Ñ‚Ñ‘Ñ‚Ñ â€” aunt ğŸ‘©',         type:'ÑĞµĞ¼ÑŒÑ',num:8,tags:['word']},
    {char:'Ğ”Ğ¯Ğ”Ğ¯',   lower:'Ğ´ÑĞ´Ñ',  translit:'Ğ”Ğ¯Ğ”Ğ¯',   meaning:'Ğ´ÑĞ´Ñ â€” uncle ğŸ‘¨',        type:'ÑĞµĞ¼ÑŒÑ',num:9,tags:['word']},
  ],

  words_colors: [
    {char:'ĞšĞ ĞĞ¡ĞĞ«Ğ™', lower:'ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹', translit:'ĞšĞ ĞĞ¡ĞĞ«Ğ™', meaning:'ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ â€” red ğŸ”´',       type:'Ñ†Ğ²ĞµÑ‚',num:1,tags:['word']},
    {char:'Ğ¡Ğ˜ĞĞ˜Ğ™',   lower:'ÑĞ¸Ğ½Ğ¸Ğ¹',   translit:'Ğ¡Ğ˜ĞĞ˜Ğ™',   meaning:'ÑĞ¸Ğ½Ğ¸Ğ¹ â€” blue ğŸ”µ',         type:'Ñ†Ğ²ĞµÑ‚',num:2,tags:['word']},
    {char:'Ğ—Ğ•Ğ›ĞĞĞ«Ğ™', lower:'Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹', translit:'Ğ—Ğ•Ğ›ĞĞĞ«Ğ™', meaning:'Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ â€” green ğŸŸ¢',      type:'Ñ†Ğ²ĞµÑ‚',num:3,tags:['word']},
    {char:'Ğ–ĞĞ›Ğ¢Ğ«Ğ™',  lower:'Ğ¶Ñ‘Ğ»Ñ‚Ñ‹Ğ¹',  translit:'Ğ–ĞĞ›Ğ¢Ğ«Ğ™',  meaning:'Ğ¶Ñ‘Ğ»Ñ‚Ñ‹Ğ¹ â€” yellow ğŸŸ¡',      type:'Ñ†Ğ²ĞµÑ‚',num:4,tags:['word']},
    {char:'Ğ‘Ğ•Ğ›Ğ«Ğ™',   lower:'Ğ±ĞµĞ»Ñ‹Ğ¹',   translit:'Ğ‘Ğ•Ğ›Ğ«Ğ™',   meaning:'Ğ±ĞµĞ»Ñ‹Ğ¹ â€” white âšª',         type:'Ñ†Ğ²ĞµÑ‚',num:5,tags:['word']},
    {char:'Ğ§ĞĞ ĞĞ«Ğ™',  lower:'Ñ‡Ñ‘Ñ€Ğ½Ñ‹Ğ¹',  translit:'Ğ§ĞĞ ĞĞ«Ğ™',  meaning:'Ñ‡Ñ‘Ñ€Ğ½Ñ‹Ğ¹ â€” black âš«',        type:'Ñ†Ğ²ĞµÑ‚',num:6,tags:['word']},
    {char:'Ğ ĞĞ—ĞĞ’Ğ«Ğ™', lower:'Ñ€Ğ¾Ğ·Ğ¾Ğ²Ñ‹Ğ¹', translit:'Ğ ĞĞ—ĞĞ’Ğ«Ğ™', meaning:'Ñ€Ğ¾Ğ·Ğ¾Ğ²Ñ‹Ğ¹ â€” pink ğŸ©·',        type:'Ñ†Ğ²ĞµÑ‚',num:7,tags:['word']},
    {char:'ĞĞ ĞĞĞ–Ğ•Ğ’Ğ«Ğ™',lower:'Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹',translit:'ĞĞ ĞĞĞ–Ğ•Ğ’Ğ«Ğ™',meaning:'Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹ â€” orange ğŸŸ ',type:'Ñ†Ğ²ĞµÑ‚',num:8,tags:['word']},
    {char:'Ğ¤Ğ˜ĞĞ›Ğ•Ğ¢ĞĞ’Ğ«Ğ™',lower:'Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹',translit:'Ğ¤Ğ˜ĞĞ›Ğ•Ğ¢ĞĞ’Ğ«Ğ™',meaning:'Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹ â€” purple ğŸŸ£',type:'Ñ†Ğ²ĞµÑ‚',num:9,tags:['word']},
  ],

  words_food: [
    {char:'Ğ¯Ğ‘Ğ›ĞĞšĞ',lower:'ÑĞ±Ğ»Ğ¾ĞºĞ¾',translit:'Ğ¯Ğ‘Ğ›ĞĞšĞ',meaning:'ÑĞ±Ğ»Ğ¾ĞºĞ¾ â€” apple ğŸ',      type:'ĞµĞ´Ğ°',num:1, tags:['word']},
    {char:'Ğ‘ĞĞĞĞ', lower:'Ğ±Ğ°Ğ½Ğ°Ğ½', translit:'Ğ‘ĞĞĞĞ', meaning:'Ğ±Ğ°Ğ½Ğ°Ğ½ â€” banana ğŸŒ',       type:'ĞµĞ´Ğ°',num:2, tags:['word']},
    {char:'ĞœĞĞ›ĞĞšĞ',lower:'Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾',translit:'ĞœĞĞ›ĞĞšĞ',meaning:'Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾ â€” milk ğŸ¥›',       type:'ĞµĞ´Ğ°',num:3, tags:['word']},
    {char:'Ğ¥Ğ›Ğ•Ğ‘',  lower:'Ñ…Ğ»ĞµĞ±',  translit:'Ğ¥Ğ›Ğ•Ğ‘',  meaning:'Ñ…Ğ»ĞµĞ± â€” bread ğŸ',        type:'ĞµĞ´Ğ°',num:4, tags:['word']},
    {char:'Ğ¡Ğ£ĞŸ',   lower:'ÑÑƒĞ¿',   translit:'Ğ¡Ğ£ĞŸ',   meaning:'ÑÑƒĞ¿ â€” soup ğŸ²',          type:'ĞµĞ´Ğ°',num:5, tags:['word']},
    {char:'ĞšĞĞ¨Ğ',  lower:'ĞºĞ°ÑˆĞ°',  translit:'ĞšĞĞ¨Ğ',  meaning:'ĞºĞ°ÑˆĞ° â€” porridge ğŸ¥£',     type:'ĞµĞ´Ğ°',num:6, tags:['word']},
    {char:'Ğ¢ĞĞ Ğ¢',  lower:'Ñ‚Ğ¾Ñ€Ñ‚',  translit:'Ğ¢ĞĞ Ğ¢',  meaning:'Ñ‚Ğ¾Ñ€Ñ‚ â€” cake ğŸ‚',         type:'ĞµĞ´Ğ°',num:7, tags:['word']},
    {char:'ĞœĞĞ”',   lower:'Ğ¼Ñ‘Ğ´',   translit:'ĞœĞĞ”',   meaning:'Ğ¼Ñ‘Ğ´ â€” honey ğŸ¯',         type:'ĞµĞ´Ğ°',num:8, tags:['word']},
    {char:'Ğ§ĞĞ™',   lower:'Ñ‡Ğ°Ğ¹',   translit:'Ğ§ĞĞ™',   meaning:'Ñ‡Ğ°Ğ¹ â€” tea â˜•',           type:'ĞµĞ´Ğ°',num:9, tags:['word']},
    {char:'Ğ¡ĞĞš',   lower:'ÑĞ¾Ğº',   translit:'Ğ¡ĞĞš',   meaning:'ÑĞ¾Ğº â€” juice ğŸ§ƒ',         type:'ĞµĞ´Ğ°',num:10,tags:['word']},
    {char:'ĞšĞĞĞ¤Ğ•Ğ¢Ğ',lower:'ĞºĞ¾Ğ½Ñ„ĞµÑ‚Ğ°',translit:'ĞšĞĞĞ¤Ğ•Ğ¢Ğ',meaning:'ĞºĞ¾Ğ½Ñ„ĞµÑ‚Ğ° â€” candy ğŸ¬',  type:'ĞµĞ´Ğ°',num:11,tags:['word']},
    {char:'ĞœĞĞ ĞĞ–Ğ•ĞĞĞ•',lower:'Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾Ğµ',translit:'ĞœĞĞ ĞĞ–Ğ•ĞĞĞ•',meaning:'Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾Ğµ â€” ice cream ğŸ¦',type:'ĞµĞ´Ğ°',num:12,tags:['word']},
  ],

  words_body: [
    {char:'ĞĞĞ¡',   lower:'Ğ½Ğ¾Ñ',  translit:'ĞĞĞ¡',   meaning:'Ğ½Ğ¾Ñ â€” nose ğŸ‘ƒ',        type:'Ñ‚ĞµĞ»Ğ¾',num:1, tags:['word']},
    {char:'Ğ ĞĞ¢',   lower:'Ñ€Ğ¾Ñ‚',  translit:'Ğ ĞĞ¢',   meaning:'Ñ€Ğ¾Ñ‚ â€” mouth ğŸ‘„',       type:'Ñ‚ĞµĞ»Ğ¾',num:2, tags:['word']},
    {char:'Ğ£Ğ¥Ğ',   lower:'ÑƒÑ…Ğ¾',  translit:'Ğ£Ğ¥Ğ',   meaning:'ÑƒÑ…Ğ¾ â€” ear ğŸ‘‚',         type:'Ñ‚ĞµĞ»Ğ¾',num:3, tags:['word']},
    {char:'Ğ“Ğ›ĞĞ—',  lower:'Ğ³Ğ»Ğ°Ğ·', translit:'Ğ“Ğ›ĞĞ—',  meaning:'Ğ³Ğ»Ğ°Ğ· â€” eye ğŸ‘ï¸',        type:'Ñ‚ĞµĞ»Ğ¾',num:4, tags:['word']},
    {char:'Ğ Ğ£ĞšĞ',  lower:'Ñ€ÑƒĞºĞ°', translit:'Ğ Ğ£ĞšĞ',  meaning:'Ñ€ÑƒĞºĞ° â€” hand âœ‹',        type:'Ñ‚ĞµĞ»Ğ¾',num:5, tags:['word']},
    {char:'ĞĞĞ“Ğ',  lower:'Ğ½Ğ¾Ğ³Ğ°', translit:'ĞĞĞ“Ğ',  meaning:'Ğ½Ğ¾Ğ³Ğ° â€” leg ğŸ¦µ',        type:'Ñ‚ĞµĞ»Ğ¾',num:6, tags:['word']},
    {char:'Ğ“ĞĞ›ĞĞ’Ğ',lower:'Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ°',translit:'Ğ“ĞĞ›ĞĞ’Ğ',meaning:'Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ° â€” head ğŸ—£ï¸',    type:'Ñ‚ĞµĞ»Ğ¾',num:7, tags:['word']},
    {char:'Ğ–Ğ˜Ğ’ĞĞ¢', lower:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚',translit:'Ğ–Ğ˜Ğ’ĞĞ¢', meaning:'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚ â€” belly ğŸ«ƒ',     type:'Ñ‚ĞµĞ»Ğ¾',num:8, tags:['word']},
    {char:'Ğ¡ĞŸĞ˜ĞĞ', lower:'ÑĞ¿Ğ¸Ğ½Ğ°',translit:'Ğ¡ĞŸĞ˜ĞĞ', meaning:'ÑĞ¿Ğ¸Ğ½Ğ° â€” back ğŸ”™',      type:'Ñ‚ĞµĞ»Ğ¾',num:9, tags:['word']},
    {char:'Ğ—Ğ£Ğ‘Ğ«',  lower:'Ğ·ÑƒĞ±Ñ‹', translit:'Ğ—Ğ£Ğ‘Ğ«',  meaning:'Ğ·ÑƒĞ±Ñ‹ â€” teeth ğŸ¦·',      type:'Ñ‚ĞµĞ»Ğ¾',num:10,tags:['word']},
    {char:'Ğ’ĞĞ›ĞĞ¡Ğ«',lower:'Ğ²Ğ¾Ğ»Ğ¾ÑÑ‹',translit:'Ğ’ĞĞ›ĞĞ¡Ğ«',meaning:'Ğ²Ğ¾Ğ»Ğ¾ÑÑ‹ â€” hair ğŸ’‡',   type:'Ñ‚ĞµĞ»Ğ¾',num:11,tags:['word']},
  ],

  words_nature: [
    {char:'Ğ¡ĞĞ›ĞĞ¦Ğ•',lower:'ÑĞ¾Ğ»Ğ½Ñ†Ğµ',translit:'Ğ¡ĞĞ›ĞĞ¦Ğ•',meaning:'ÑĞ¾Ğ»Ğ½Ñ†Ğµ â€” sun â˜€ï¸',     type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:1, tags:['word']},
    {char:'Ğ›Ğ£ĞĞ',  lower:'Ğ»ÑƒĞ½Ğ°',  translit:'Ğ›Ğ£ĞĞ',  meaning:'Ğ»ÑƒĞ½Ğ° â€” moon ğŸŒ™',      type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:2, tags:['word']},
    {char:'Ğ—Ğ’Ğ•Ğ—Ğ”Ğ',lower:'Ğ·Ğ²ĞµĞ·Ğ´Ğ°',translit:'Ğ—Ğ’Ğ•Ğ—Ğ”Ğ',meaning:'Ğ·Ğ²ĞµĞ·Ğ´Ğ° â€” star â­',    type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:3, tags:['word']},
    {char:'Ğ”Ğ•Ğ Ğ•Ğ’Ğ',lower:'Ğ´ĞµÑ€ĞµĞ²Ğ¾',translit:'Ğ”Ğ•Ğ Ğ•Ğ’Ğ',meaning:'Ğ´ĞµÑ€ĞµĞ²Ğ¾ â€” tree ğŸŒ³',   type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:4, tags:['word']},
    {char:'Ğ¦Ğ’Ğ•Ğ¢ĞĞš',lower:'Ñ†Ğ²ĞµÑ‚Ğ¾Ğº',translit:'Ğ¦Ğ’Ğ•Ğ¢ĞĞš',meaning:'Ñ†Ğ²ĞµÑ‚Ğ¾Ğº â€” flower ğŸŒ¸', type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:5, tags:['word']},
    {char:'Ğ’ĞĞ”Ğ',  lower:'Ğ²Ğ¾Ğ´Ğ°',  translit:'Ğ’ĞĞ”Ğ',  meaning:'Ğ²Ğ¾Ğ´Ğ° â€” water ğŸ’§',    type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:6, tags:['word']},
    {char:'Ğ“ĞĞ Ğ',  lower:'Ğ³Ğ¾Ñ€Ğ°',  translit:'Ğ“ĞĞ Ğ',  meaning:'Ğ³Ğ¾Ñ€Ğ° â€” mountain â›°ï¸', type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:7, tags:['word']},
    {char:'Ğ¡ĞĞ•Ğ“',  lower:'ÑĞ½ĞµĞ³',  translit:'Ğ¡ĞĞ•Ğ“',  meaning:'ÑĞ½ĞµĞ³ â€” snow â„ï¸',     type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:8, tags:['word']},
    {char:'Ğ”ĞĞ–Ğ”Ğ¬', lower:'Ğ´Ğ¾Ğ¶Ğ´ÑŒ', translit:'Ğ”ĞĞ–Ğ”Ğ¬', meaning:'Ğ´Ğ¾Ğ¶Ğ´ÑŒ â€” rain ğŸŒ§ï¸',    type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:9, tags:['word']},
    {char:'ĞĞ•Ğ‘Ğ',  lower:'Ğ½ĞµĞ±Ğ¾',  translit:'ĞĞ•Ğ‘Ğ',  meaning:'Ğ½ĞµĞ±Ğ¾ â€” sky ğŸŒ¤ï¸',      type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:10,tags:['word']},
    {char:'ĞœĞĞ Ğ•',  lower:'Ğ¼Ğ¾Ñ€Ğµ',  translit:'ĞœĞĞ Ğ•',  meaning:'Ğ¼Ğ¾Ñ€Ğµ â€” sea ğŸŒŠ',      type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:11,tags:['word']},
    {char:'Ğ Ğ•ĞšĞ',  lower:'Ñ€ĞµĞºĞ°',  translit:'Ğ Ğ•ĞšĞ',  meaning:'Ñ€ĞµĞºĞ° â€” river ğŸï¸',    type:'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',num:12,tags:['word']},
  ],

  words_toys: [
    {char:'ĞœĞ¯Ğ§',    lower:'Ğ¼ÑÑ‡',    translit:'ĞœĞ¯Ğ§',    meaning:'Ğ¼ÑÑ‡ â€” ball âš½',          type:'Ğ¸Ğ³Ñ€Ğ°',num:1, tags:['word']},
    {char:'ĞšĞ£ĞšĞ›Ğ',  lower:'ĞºÑƒĞºĞ»Ğ°',  translit:'ĞšĞ£ĞšĞ›Ğ',  meaning:'ĞºÑƒĞºĞ»Ğ° â€” doll ğŸª†',        type:'Ğ¸Ğ³Ñ€Ğ°',num:2, tags:['word']},
    {char:'ĞœĞ˜Ğ¨ĞšĞ',  lower:'Ğ¼Ğ¸ÑˆĞºĞ°',  translit:'ĞœĞ˜Ğ¨ĞšĞ',  meaning:'Ğ¼Ğ¸ÑˆĞºĞ° â€” teddy bear ğŸ»', type:'Ğ¸Ğ³Ñ€Ğ°',num:3, tags:['word']},
    {char:'ĞšĞ£Ğ‘Ğ˜Ğš',  lower:'ĞºÑƒĞ±Ğ¸Ğº',  translit:'ĞšĞ£Ğ‘Ğ˜Ğš',  meaning:'ĞºÑƒĞ±Ğ¸Ğº â€” block ğŸ§Š',       type:'Ğ¸Ğ³Ñ€Ğ°',num:4, tags:['word']},
    {char:'ĞœĞĞ¨Ğ˜ĞĞ', lower:'Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ°', translit:'ĞœĞĞ¨Ğ˜ĞĞ', meaning:'Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ° â€” car ğŸš—',        type:'Ğ¸Ğ³Ñ€Ğ°',num:5, tags:['word']},
    {char:'ĞŸĞĞ•Ğ—Ğ”',  lower:'Ğ¿Ğ¾ĞµĞ·Ğ´',  translit:'ĞŸĞĞ•Ğ—Ğ”',  meaning:'Ğ¿Ğ¾ĞµĞ·Ğ´ â€” train ğŸš‚',       type:'Ğ¸Ğ³Ñ€Ğ°',num:6, tags:['word']},
    {char:'Ğ¡ĞĞœĞĞ›ĞĞ¢',lower:'ÑĞ°Ğ¼Ğ¾Ğ»Ñ‘Ñ‚',translit:'Ğ¡ĞĞœĞĞ›ĞĞ¢',meaning:'ÑĞ°Ğ¼Ğ¾Ğ»Ñ‘Ñ‚ â€” airplane âœˆï¸',  type:'Ğ¸Ğ³Ñ€Ğ°',num:7, tags:['word']},
    {char:'ĞšĞ ĞĞ¡ĞšĞ˜', lower:'ĞºÑ€Ğ°ÑĞºĞ¸', translit:'ĞšĞ ĞĞ¡ĞšĞ˜', meaning:'ĞºÑ€Ğ°ÑĞºĞ¸ â€” paints ğŸ¨',     type:'Ğ¸Ğ³Ñ€Ğ°',num:8, tags:['word']},
    {char:'ĞšĞĞ˜Ğ“Ğ',  lower:'ĞºĞ½Ğ¸Ğ³Ğ°',  translit:'ĞšĞĞ˜Ğ“Ğ',  meaning:'ĞºĞ½Ğ¸Ğ³Ğ° â€” book ğŸ“š',        type:'Ğ¸Ğ³Ñ€Ğ°',num:9, tags:['word']},
    {char:'ĞšĞĞ ĞĞĞ”ĞĞ¨',lower:'ĞºĞ°Ñ€Ğ°Ğ½Ğ´Ğ°Ñˆ',translit:'ĞšĞĞ ĞĞĞ”ĞĞ¨',meaning:'ĞºĞ°Ñ€Ğ°Ğ½Ğ´Ğ°Ñˆ â€” pencil âœï¸',type:'Ğ¸Ğ³Ñ€Ğ°',num:10,tags:['word']},
  ],
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let currentLevel  = 'alphabet';
let currentIdx    = 0;
let strokes       = [];
let currentStroke = null;
let ghostOn = true;
let gridOn  = true;
let mastery = {};
let sessionPracticed = new Set();
let sessionMastered  = new Set();

function getChars()    { return DB[currentLevel] || []; }
function currentChar() { return getChars()[currentIdx]; }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CANVAS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const canvas = document.getElementById('drawCanvas');
const ctx    = canvas.getContext('2d');
const wrap   = document.getElementById('canvasWrap');
const ghost  = document.getElementById('ghostEl');

function resizeCanvas() {
  const vw = window.innerWidth;
  const vh = window.innerHeight;
  const cellSize = Math.min(Math.floor(Math.min(vw - 450, vh - 195)), 340);
  const cell = Math.max(cellSize, 185);

  const item    = currentChar();
  const charLen = item ? [...item.char].length : 1;
  const cols    = Math.min(charLen, 5);
  const rows    = Math.ceil(charLen / 5);
  const W = cell * cols;
  const H = cell * rows;

  wrap.style.width  = W + 'px';
  wrap.style.height = H + 'px';
  canvas.width  = W;
  canvas.height = H;

  ghost.style.fontSize      = (cell * 0.68) + 'px';
  ghost.style.lineHeight    = '1';
  ghost.style.letterSpacing = '0.02em';
  ghost.style.flexWrap      = 'wrap';
  ghost.style.whiteSpace    = rows > 1 ? 'normal' : 'nowrap';

  drawGridSvg(W, H, cell);
  redraw();
}

function drawGridSvg(W, H, cell) {
  const svg  = document.getElementById('gridSvg');
  const cols = Math.round(W / cell);
  const rows = Math.round(H / cell);
  let html = '';

  for (let col = 0; col < cols; col++) {
    for (let row = 0; row < rows; row++) {
      const ox   = col * cell;
      const oy   = row * cell;
      const step = cell / 4;

      for (let x = step; x < cell; x += step)
        html += `<line x1="${ox+x}" y1="${oy}" x2="${ox+x}" y2="${oy+cell}" stroke="rgba(74,179,244,0.09)" stroke-width="0.5"/>`;
      for (let y = step; y < cell; y += step)
        html += `<line x1="${ox}" y1="${oy+y}" x2="${ox+cell}" y2="${oy+y}" stroke="rgba(74,179,244,0.09)" stroke-width="0.5"/>`;

      html += `<line x1="${ox+cell/2}" y1="${oy}" x2="${ox+cell/2}" y2="${oy+cell}" stroke="rgba(179,136,255,0.22)" stroke-width="1"/>`;
      html += `<line x1="${ox}" y1="${oy+cell/2}" x2="${ox+cell}" y2="${oy+cell/2}" stroke="rgba(179,136,255,0.22)" stroke-width="1"/>`;
      html += `<line x1="${ox}" y1="${oy}" x2="${ox+cell}" y2="${oy+cell}" stroke="rgba(74,179,244,0.07)" stroke-width="0.5"/>`;
      html += `<line x1="${ox+cell}" y1="${oy}" x2="${ox}" y2="${oy+cell}" stroke="rgba(74,179,244,0.07)" stroke-width="0.5"/>`;
      html += `<rect x="${ox+0.5}" y="${oy+0.5}" width="${cell-1}" height="${cell-1}" fill="none" stroke="rgba(74,179,244,0.25)" stroke-width="1"/>`;
    }
  }
  html += `<rect x="1" y="1" width="${W-2}" height="${H-2}" fill="none" stroke="rgba(179,136,255,0.4)" stroke-width="1.5"/>`;
  svg.innerHTML = html;
  svg.setAttribute('viewBox', `0 0 ${W} ${H}`);
  svg.style.display = gridOn ? '' : 'none';
}

function getPos(e) {
  const rect   = canvas.getBoundingClientRect();
  const scaleX = canvas.width  / rect.width;
  const scaleY = canvas.height / rect.height;
  const src    = e.touches ? e.touches[0] : e;
  return { x: (src.clientX - rect.left) * scaleX, y: (src.clientY - rect.top) * scaleY };
}

canvas.addEventListener('mousedown', e => { e.preventDefault(); currentStroke = [getPos(e)]; });
canvas.addEventListener('mousemove', e => {
  if (!currentStroke) return;
  currentStroke.push(getPos(e));
  redraw(); drawStroke(currentStroke, getBrush());
});
canvas.addEventListener('mouseup',    endDraw);
canvas.addEventListener('mouseleave', endDraw);
canvas.addEventListener('touchstart', e => { e.preventDefault(); currentStroke = [getPos(e)]; }, { passive: false });
canvas.addEventListener('touchmove',  e => {
  e.preventDefault();
  if (!currentStroke) return;
  currentStroke.push(getPos(e));
  redraw(); drawStroke(currentStroke, getBrush());
}, { passive: false });
canvas.addEventListener('touchend', endDraw);

function endDraw() {
  if (!currentStroke || currentStroke.length < 1) return;
  strokes.push({ points: currentStroke, size: getBrush() });
  currentStroke = null;
  sessionPracticed.add(currentChar().char);
  document.getElementById('sessionCount').textContent = sessionPracticed.size;
  redraw();
}

function getBrush() { return parseInt(document.getElementById('brushSize').value); }

function drawStroke(pts, size) {
  if (!pts || pts.length === 0) return;
  ctx.save();
  ctx.strokeStyle = '#2d2d6b';
  ctx.lineWidth   = size;
  ctx.lineCap     = 'round';
  ctx.lineJoin    = 'round';
  ctx.beginPath();
  ctx.moveTo(pts[0].x, pts[0].y);
  for (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i].x, pts[i].y);
  ctx.stroke();
  ctx.restore();
}

function redraw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (const s of strokes) drawStroke(s.points, s.size);
}
function clearCanvas() { strokes = []; currentStroke = null; redraw(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UI UPDATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateUI() {
  const item = currentChar();
  if (!item) return;
  const c = item.char;

  resizeCanvas();
  updateYTPanel();

  // Animate ref char
  const refEl = document.getElementById('refChar');
  refEl.style.animation = 'none';
  refEl.offsetHeight;
  refEl.style.animation = '';

  // Show uppercase + lowercase for single letters
  const clen = [...c].length;
  if (clen === 1 && item.lower && item.lower !== c) {
    refEl.innerHTML = `<div class="both-cases"><span class="case-upper">${c}</span><span class="case-lower">${item.lower}</span></div>`;
    refEl.style.fontSize = '';
  } else {
    const baseFs = clen <= 1 ? 115 : clen <= 2 ? 66 : clen <= 3 ? 46 : clen <= 4 ? 36 : clen <= 6 ? 26 : clen <= 8 ? 20 : 15;
    refEl.textContent = c;
    refEl.style.fontSize     = baseFs + 'px';
    refEl.style.letterSpacing = clen > 1 ? '0.04em' : '';
  }

  document.getElementById('refTranslit').textContent = item.translit || '';
  document.getElementById('refMeaning').textContent  = item.meaning  || '';

  // Badges
  const badgeEl = document.getElementById('letterBadges');
  badgeEl.innerHTML = '';
  const labelMap = { vowel:'Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ', consonant:'ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ğ°Ñ', special:'Ğ·Ğ½Ğ°Ğº', number:'Ñ†Ğ¸Ñ„Ñ€Ğ°', word:'ÑĞ»Ğ¾Ğ²Ğ¾' };
  (item.tags || []).forEach(t => {
    const b = document.createElement('span');
    b.className = 'badge ' + t;
    b.textContent = labelMap[t] || t;
    badgeEl.appendChild(b);
  });

  ghost.textContent = ghostOn ? c : '';

  // Right panel
  const rpChar = document.getElementById('rpChar');
  if (clen === 1 && item.lower && item.lower !== c) {
    rpChar.innerHTML = `<div style="display:flex;gap:0.1em;align-items:baseline;justify-content:center;line-height:1"><span style="font-size:2.8rem">${c}</span><span style="font-size:1.9rem;color:var(--blue)">${item.lower}</span></div>`;
    rpChar.style.fontSize = '';
  } else {
    const rpFs = clen <= 2 ? '3rem' : clen <= 4 ? '1.6rem' : clen <= 6 ? '1.1rem' : '0.85rem';
    rpChar.textContent = c;
    rpChar.style.fontSize = rpFs;
  }

  document.getElementById('rpTranslit').textContent = item.translit || '';
  document.getElementById('rpType').textContent     = item.type     || '';
  document.getElementById('rpNum').textContent      = item.num      || '-';
  document.getElementById('rpMeaning').textContent  = item.meaning  || '';

  const m   = mastery[c] || 0;
  const pct = Math.round(m / 3 * 100);
  document.getElementById('masteryPct').textContent  = pct + '%';
  document.getElementById('masteryFill').style.width = pct + '%';

  const total = getChars().length;
  const done  = Object.keys(mastery).filter(k => mastery[k] >= 1 && getChars().some(x => x.char === k)).length;
  document.getElementById('progressTxt').textContent = `${done}/${total} Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¾`;

  document.querySelectorAll('.cpill').forEach((el, i) => el.classList.toggle('active', i === currentIdx));
  const active = document.querySelector('.cpill.active');
  if (active) active.scrollIntoView({ block: 'nearest' });
}

function buildGrid(chars) {
  const grid = document.getElementById('charGrid');
  grid.innerHTML = '';
  chars.forEach((item, i) => {
    const pill = document.createElement('div');
    pill.className = 'cpill' + (i === currentIdx ? ' active' : '') + (mastery[item.char] ? ' done' : '');
    const displayChars = [...item.char];
    pill.textContent = displayChars.slice(0, 3).join('');
    if (displayChars.length > 3) pill.style.fontSize = '0.65rem';
    else if (displayChars.length > 1) pill.style.fontSize = '0.78rem';
    pill.title = item.translit + ' â€” ' + item.meaning;
    pill.addEventListener('click', () => { currentIdx = i; clearCanvas(); updateUI(); });
    grid.appendChild(pill);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CONTROLS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.getElementById('levelSelect').addEventListener('change', function() {
  currentLevel = this.value;
  currentIdx   = 0;
  clearCanvas();
  buildGrid(getChars());
  updateUI();
});

document.getElementById('prevBtn').addEventListener('click', () => {
  currentIdx = (currentIdx - 1 + getChars().length) % getChars().length;
  clearCanvas(); updateUI();
});
document.getElementById('nextBtn').addEventListener('click', () => {
  currentIdx = (currentIdx + 1) % getChars().length;
  clearCanvas(); updateUI();
});
document.getElementById('nextCharBtn').addEventListener('click', () => {
  currentIdx = (currentIdx + 1) % getChars().length;
  clearCanvas(); updateUI();
});
document.getElementById('randBtn').addEventListener('click', () => {
  currentIdx = Math.floor(Math.random() * getChars().length);
  clearCanvas(); updateUI();
});
document.getElementById('clearBtn').addEventListener('click',  clearCanvas);
document.getElementById('clearBtn2').addEventListener('click', clearCanvas);
document.getElementById('undoBtn').addEventListener('click',   () => { strokes.pop(); redraw(); });
document.getElementById('undoBtn2').addEventListener('click',  () => { strokes.pop(); redraw(); });
document.getElementById('brushSize').addEventListener('input', function() {
  document.getElementById('brushVal').textContent = this.value;
});
document.getElementById('ghostBtn').addEventListener('click', function() {
  ghostOn = !ghostOn;
  this.textContent = 'ğŸ‘» ĞŸÑ€Ğ¸Ğ·Ñ€Ğ°Ğº ' + (ghostOn ? 'Ğ’ĞšĞ›' : 'Ğ’Ğ«ĞšĞ›');
  updateUI();
});
document.getElementById('gridBtn').addEventListener('click', function() {
  gridOn = !gridOn;
  this.textContent = 'âŠ Ğ¡ĞµÑ‚ĞºĞ° ' + (gridOn ? 'Ğ’ĞšĞ›' : 'Ğ’Ğ«ĞšĞ›');
  resizeCanvas();
});
document.getElementById('searchInput').addEventListener('input', function() {
  const q = this.value.trim().toLowerCase();
  if (!q) { buildGrid(getChars()); return; }
  const filtered = getChars().filter(item =>
    item.char.toLowerCase().includes(q) ||
    (item.translit || '').toLowerCase().includes(q) ||
    (item.meaning  || '').toLowerCase().includes(q)
  );
  buildGrid(filtered);
});

function markChar(level) {
  const c = currentChar().char;
  mastery[c] = level;
  if (level >= 2) {
    sessionMastered.add(c);
    document.getElementById('masteredCount').textContent = sessionMastered.size;
  }
  const pills = document.querySelectorAll('.cpill');
  if (pills[currentIdx]) pills[currentIdx].classList.toggle('done', level > 0);
  updateUI();
  if (level === 3) {
    setTimeout(() => { currentIdx = (currentIdx + 1) % getChars().length; clearCanvas(); updateUI(); }, 420);
  }
}

document.addEventListener('keydown', e => {
  if (e.target.tagName === 'INPUT') return;
  if (e.key === 'ArrowRight' || e.key === 'n') { currentIdx = (currentIdx+1)%getChars().length; clearCanvas(); updateUI(); }
  if (e.key === 'ArrowLeft'  || e.key === 'p') { currentIdx = (currentIdx-1+getChars().length)%getChars().length; clearCanvas(); updateUI(); }
  if (e.key === 'c' || e.key === 'Delete') clearCanvas();
  if (e.key === 'z' && (e.ctrlKey || e.metaKey)) { strokes.pop(); redraw(); }
  if (e.key === 'g') { ghostOn = !ghostOn; document.getElementById('ghostBtn').textContent = 'ğŸ‘» ĞŸÑ€Ğ¸Ğ·Ñ€Ğ°Ğº ' + (ghostOn ? 'Ğ’ĞšĞ›' : 'Ğ’Ğ«ĞšĞ›'); updateUI(); }
  if (e.key === '1') markChar(1);
  if (e.key === '2') markChar(2);
  if (e.key === '3') markChar(3);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  YOUTUBE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function getYTSearchUrl(char, mode) {
  const q = mode === 'sound'
    ? encodeURIComponent(`Ğ±ÑƒĞºĞ²Ğ° ${char} Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğµ Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ğ°Ğ»Ñ„Ğ°Ğ²Ğ¸Ñ‚ Ğ´Ğ»Ñ Ğ´ĞµÑ‚ĞµĞ¹`)
    : encodeURIComponent(`Ğ±ÑƒĞºĞ²Ğ° ${char} ĞºĞ°Ğº Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¿Ğ¸ÑÑŒÑ Ğ´Ğ»Ñ Ğ´ĞµÑ‚ĞµĞ¹ ÑƒÑ€Ğ¾Ğº`);
  return 'https://www.youtube.com/results?search_query=' + q;
}

function updateYTPanel() {
  const item = currentChar();
  if (!item) return;
  const char = item.char;
  document.getElementById('ytCharLabel').textContent       = char;
  document.getElementById('ytPlaceholderChar').textContent = char;
  document.getElementById('ytPlaceholderText').textContent = `ĞŸĞ¾Ğ¸ÑĞº Ğ²Ğ¸Ğ´ĞµĞ¾: ${char}`;
  document.getElementById('ytLink1').href = getYTSearchUrl(char, 'write');
  document.getElementById('ytLink2').href = getYTSearchUrl(char, 'sound');
  document.getElementById('ytLink3').href = getYTSearchUrl(char, 'write');

  const embedWrap = document.getElementById('ytEmbedWrap');
  const old = embedWrap.querySelector('iframe');
  if (old) old.remove();
  document.getElementById('ytPlaceholder').style.display = 'flex';
  document.getElementById('ytPlaceholder').onclick = () => window.open(getYTSearchUrl(char, 'write'), '_blank');
}

['ytLink1','ytLink2','ytLink3'].forEach(id => {
  document.getElementById(id).addEventListener('click', e => {
    e.preventDefault();
    window.open(document.getElementById(id).href, '_blank');
  });
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
buildGrid(getChars());
updateUI();
resizeCanvas();
window.addEventListener('resize', resizeCanvas);
</script>
</body>
</html>
